# 八 Fragment

Fragment是嵌入在活动中的UI片段，能让程序更合理、充分地利用大屏空间，多应用于平板

## 动态添加碎片

1. 创建待添加的碎片实例
2. 获取FragmentManager：在活动中直接调用getSupportFragmentManager()即可
3. 开启一个事务：调用beginTransaction()
4. 向容器内添加或替换碎片：一般使用replace()方法实现，需要传入容器的id和待添加的碎片实例
5. 提交事务：通过commit()方法

## 碎片的生命周期

#### 1. 运行状态

当一个碎片是可见的，并且它所关联的活动正处于运行状态时，该碎片也处于运行状态。

#### 2. 暂停状态

当一个活动进入暂停状态时（由于另一个未占满屏幕的活动被添加到了栈顶），与它相关联的可见碎片就会进入到暂停状态。

#### 3. 停止状态

- 当一个活动进入停止状态时，与它相关联的碎片就会进入到停止状态。
- 或者通过调用 FragmentTransaction 的 remove()、replace() 方法将碎片从活动中移除，但有在事务提交之前调用 addToBackStack() 方法，这时的碎片也会进入到停止状态。
- 总的来说，进入停止状态的碎片对用户来说是完全不可见的，有可能会被系统回收。

#### 4. 销毁状态

- 碎片总是依附于活动而存在的，因此当活动被销毁时，与它相关联的碎片就会进入到销毁状态。
- 或者通过调用 FragmentTransaction 的 remove()、replace() 方法将碎片从活动中移除，但在事务提交之前并没有调用 addToBackStack() 方法，这时的碎片也会进入到销毁状态。
